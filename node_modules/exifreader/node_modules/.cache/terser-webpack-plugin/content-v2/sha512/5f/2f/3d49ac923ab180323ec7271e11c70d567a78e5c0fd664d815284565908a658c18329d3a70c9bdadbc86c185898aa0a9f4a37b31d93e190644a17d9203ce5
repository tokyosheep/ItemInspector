{"map":{"version":3,"sources":["exif-reader.js"],"names":["root","factory","exports","module","define","amd","self","this","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","objectAssign","arguments","length","dataview_typeof","obj","iterator","constructor","exif_reader_errors","load","loadView","dataview_DataView","DataView","buffer","instance","Constructor","TypeError","_classCallCheck","undefined","readUInt8","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readInt32LE","readInt32BE","bufferTypeIsUnsupported","Error","byteLength","protoProps","offset","littleEndian","target","props","descriptor","configurable","writable","_defineProperties","image_header","dataView","_arrayLikeToArray","arr","len","arr2","Array","xmp_tag_names","tiff:Orientation","exif:GPSLatitude","calculateGPSValue","exif:GPSLongitude","_value$split2","isArray","_arrayWithHoles","split","_i","_s","_e","_arr","_n","_d","next","done","push","err","_iterableToArrayLimit","minLen","toString","slice","from","test","_unsupportedIterableToArray","_nonIterableRest","degreesString","minutesString","degrees","parseFloat","minutes","ref","charAt","Number","isNaN","xmp_tags_typeof","xmp_tags","chunks","xmp_tags_readTags","completeChunks","combineChunks","extractCompleteChunks","reduce","totalLength","size","chunk","combinedChunks","Uint8Array","dataOffset","set","tags","chunkDataView","parseXMPObject","convertToObject","getRDF","node","childNodes","tagName","Parser","DOMParser","require","error","dom_parser","console","warn","domParser","xmlString","chars","getUint8","map","charCode","String","fromCharCode","join","getStringFromDataView","doc","parseFromString","replace","documentElement","nodeName","textContent","getDocument","isTopNode","getChildNodes","hasTextOnlyContent","getTextValue","getElementsFromNodes","elements","nodes","nodeValue","forEach","isElement","nodeElement","attributes","getAttributes","getElementFromNode","element","decodeURIComponent","escape","xmpObject","parseNodeAttributesAsTags","parseNodeChildrenAsTags","isTagAttribute","getLocalName","description","getDescription","isNamespaceDefinition","getDescriptionOfArray","getDescriptionOfObject","item","descriptions","concat","getClearTextKey","children","parseNodeAsTag","hasNestedSimpleRdfDescription","parseNodeAsSimpleRdfDescription","hasNestedStructureRdfDescription","tag","parseNodeAttributes","parseNodeAsStructureRdfDescription","keys","isCompactStructure","parseNodeAsCompactStructure","getArrayChild","items","hasNestedArrayValue","parseArrayValue","parseNodeAsArray","getURIValue","parseNodeAsSimpleValue","parseNodeChildrenAsAttributes","parseRdfValue","MetadataMissingError","message","stack","errors","data","options","expanded","isFilePathOrURL","loadFile","then","fileContents","loadFromData","isBrowserFileObject","loadFileObject","filename","window","fetch","response","arrayBuffer","url","Promise","resolve","reject","requireNodeGet","statusCode","on","Buffer","statusMessage","resume","nodeFetchRemoteFile","fs","requireNodeFs","open","fd","stat","alloc","read","close","loadLocalFile","File","file","reader","FileReader","onload","readerEvent","result","onerror","readAsArrayBuffer","isBuffer","isNodeBuffer","getDataView","foundMetaData","_ImageHeader$parseApp","xmpChunks","fileDataOffset","tiffHeaderOffset","iptcDataOffset","iccChunks","mpfDataOffset","pngHeaderOffset","hasXmpData","_readTags3","xmp","thumbnail","Thumbnail"],"mappings":"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"},"code":"!function(r,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.ExifReader=t():r.ExifReader=t()}(\"undefined\"!=typeof self?self:this,(function(){return function(r){var t={};function e(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:0,exports:{}};return r[n].call(o.exports,o,o.exports,e),o.l=1,o.exports}return e.m=r,e.c=t,e.d=function(r,t,n){e.o(r,t)||Object.defineProperty(r,t,{enumerable:1,get:n})},e.r=function(r){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(r,\"__esModule\",{value:1})},e.t=function(r,t){if(1&t&&(r=e(r)),8&t)return r;if(4&t&&\"object\"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,\"default\",{enumerable:1,value:r}),2&t&&\"string\"!=typeof r)for(var o in r)e.d(n,o,function(t){return r[t]}.bind(null,o));return n},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,\"a\",t),t},e.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},e.p=\"\",e(e.s=1)}([,function(r,t,e){\"use strict\";function n(){for(var r=1;r<arguments.length;r++)for(var t in arguments[r])arguments[0][t]=arguments[r][t];return arguments[0]}function o(r){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&\"function\"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r})(r)}e.r(t),e.d(t,\"errors\",(function(){return L})),e.d(t,\"load\",(function(){return W})),e.d(t,\"loadView\",(function(){return $}));var u=function(){function r(t){if(function(r,t){if(!(r instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r),function(r){return\"object\"!==o(r)||void 0===r.length||void 0===r.readUInt8||void 0===r.readUInt16LE||void 0===r.readUInt16BE||void 0===r.readUInt32LE||void 0===r.readUInt32BE||void 0===r.readInt32LE||void 0===r.readInt32BE}(t))throw Error(\"DataView: Passed buffer type is unsupported.\");this.buffer=t,this.byteLength=this.buffer.length}var t;return(t=[{key:\"getUint8\",value:function(r){return this.buffer.readUInt8(r)}},{key:\"getUint16\",value:function(r,t){return t?this.buffer.readUInt16LE(r):this.buffer.readUInt16BE(r)}},{key:\"getUint32\",value:function(r,t){return t?this.buffer.readUInt32LE(r):this.buffer.readUInt32BE(r)}},{key:\"getInt32\",value:function(r,t){return t?this.buffer.readInt32LE(r):this.buffer.readInt32BE(r)}}])&&function(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||0,n.configurable=1,\"value\"in n&&(n.writable=1),Object.defineProperty(r,n.key,n)}}(r.prototype,t),r}(),i=function(r){throw Error(\"Invalid image format\")};function a(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}var f={\"tiff:Orientation\":function(r){return\"1\"===r?\"Horizontal (normal)\":\"2\"===r?\"Mirror horizontal\":\"3\"===r?\"Rotate 180\":\"4\"===r?\"Mirror vertical\":\"5\"===r?\"Mirror horizontal and rotate 270 CW\":\"6\"===r?\"Rotate 90 CW\":\"7\"===r?\"Mirror horizontal and rotate 90 CW\":\"8\"===r?\"Rotate 270 CW\":r},\"exif:GPSLatitude\":c,\"exif:GPSLongitude\":c};function c(r){var t,e=(2,function(r){if(Array.isArray(r))return r}(t=r.split(\",\"))||function(r,t){var e=null==r?null:\"undefined\"!=typeof Symbol&&r[Symbol.iterator]||r[\"@@iterator\"];if(null!=e){var n,o,u=[],i=1,a=0;try{for(e=e.call(r);!(i=(n=e.next()).done)&&(u.push(n.value),2!==u.length);i=1);}catch(r){a=1,o=r}finally{try{i||null==e.return||e.return()}finally{if(a)throw o}}return u}}(t)||function(r,t){if(r){if(\"string\"==typeof r)return a(r,2);var e=Object.prototype.toString.call(r).slice(8,-1);return\"Object\"===e&&r.constructor&&(e=r.constructor.name),\"Map\"===e||\"Set\"===e?Array.from(r):\"Arguments\"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(r,2):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),n=e[0],o=e[1];if(void 0!==n&&void 0!==o){var u=parseFloat(n),i=parseFloat(o),f=o.charAt(o.length-1);if(!Number.isNaN(u)&&!Number.isNaN(i))return\"\"+(u+i/60)+f}return r}function l(r){return(l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&\"function\"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r})(r)}var s=function(r,t){return\"string\"==typeof r?v({},r):function(r,t){if(0===t.length)return[];var e=[d(r,t.slice(0,1))];return t.length>1&&e.push(d(r,t.slice(1))),e}(r,t).reduce(v,{})};function d(r,t){for(var e=t.reduce((function(r,t){return r+t.length}),0),n=new Uint8Array(e),o=0,u=0;u<t.length;u++){var i=t[u],a=r.buffer.slice(i.dataOffset,i.dataOffset+i.length);n.set(new Uint8Array(a),o),o+=i.length}return new DataView(n.buffer)}function v(r,t){try{return n(r,C(p(function r(t){for(var e=0;e<t.childNodes.length;e++){if(\"x:xmpmeta\"===t.childNodes[e].tagName)return r(t.childNodes[e]);if(\"rdf:RDF\"===t.childNodes[e].tagName)return t.childNodes[e]}throw Error()}(function(r){var t=function(){if(\"undefined\"!=typeof DOMParser)return DOMParser;try{return require(\"xmldom\").DOMParser}catch(r){return}}();if(!t)throw console.warn(\"Warning: DOMParser is not available. It is needed to be able to parse XMP tags.\"),Error();var e=new t,n=\"string\"==typeof r?r:function(r,t,e){for(var n=[],o=0;o<e&&0+o<r.byteLength;o++)n.push(r.getUint8(0+o));return n.map((function(r){return String.fromCharCode(r)})).join(\"\")}(r,0,r.byteLength),o=e.parseFromString(n.replace(/^.+(<\\?xpacket begin)/,\"$1\").replace(/(<\\?xpacket end=\".*\"\\?>).+$/,\"$1\"),\"application/xml\");if(\"parsererror\"===o.documentElement.nodeName)throw Error(o.documentElement.textContent);return o}(t)),1)))}catch(t){return r}}function p(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=y(r);return h(e)?t?{}:b(e[0]):m(e)}function y(r){for(var t=[],e=0;e<r.childNodes.length;e++)t.push(r.childNodes[e]);return t}function h(r){return 1===r.length&&\"#text\"===r[0].nodeName}function b(r){return r.nodeValue}function m(r){var t={};return r.forEach((function(r){if(function(r){return r.nodeName&&\"#text\"!==r.nodeName}(r)){var e=function(r){return{attributes:g(r),value:p(r)}}(r);void 0!==t[r.nodeName]?(Array.isArray(t[r.nodeName])||(t[r.nodeName]=[t[r.nodeName]]),t[r.nodeName].push(e)):t[r.nodeName]=e}})),t}function g(r){for(var t={},e=0;e<r.attributes.length;e++)t[r.attributes[e].nodeName]=decodeURIComponent(escape(r.attributes[e].value));return t}function C(r){var t={};if(\"string\"==typeof r)return r;for(var e in r){var o=r[e];Array.isArray(o)||(o=[o]),o.forEach((function(r){n(t,w(r.attributes)),\"object\"===l(r.value)&&n(t,M(r.value))}))}return t}function w(r){var t={};for(var e in r)E(e)&&(t[A(e)]={value:r[e],attributes:{},description:N(r[e],e)});return t}function E(r){return\"rdf:parseType\"!==r&&!x(r)}function x(r){return\"xmlns\"===r.split(\":\")[0]}function A(r){return/^MicrosoftPhoto(_\\d+_)?:Rating$/i.test(r)?\"RatingPercent\":r.split(\":\")[1]}function N(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(Array.isArray(r))return S(r);if(\"object\"===l(r))return O(r);try{return t&&\"function\"==typeof f[t]?f[t](r):decodeURIComponent(escape(r))}catch(t){return r}}function S(r){return r.map((function(r){return void 0!==r.value?N(r.value):N(r)})).join(\", \")}function O(r){var t=[];for(var e in r)t.push(\"\".concat(I(e),\": \").concat(r[e].value));return t.join(\"; \")}function I(r){return\"CiAdrCity\"===r?\"CreatorCity\":\"CiAdrCtry\"===r?\"CreatorCountry\":\"CiAdrExtadr\"===r?\"CreatorAddress\":\"CiAdrPcode\"===r?\"CreatorPostalCode\":\"CiAdrRegion\"===r?\"CreatorRegion\":\"CiEmailWork\"===r?\"CreatorWorkEmail\":\"CiTelWork\"===r?\"CreatorWorkPhone\":\"CiUrlWork\"===r?\"CreatorWorkUrl\":r}function M(r){var t={};for(var e in r)x(e)||(t[A(e)]=P(r[e],e));return t}function P(r,t){return U(r)?j(r,t):function(r){return\"Resource\"===r.attributes[\"rdf:parseType\"]||void 0!==r.value[\"rdf:Description\"]&&void 0===r.value[\"rdf:Description\"].value[\"rdf:value\"]}(r)?function(r,t){var e={value:{},attributes:{}};return void 0!==r.value[\"rdf:Description\"]&&(n(e.value,w(r.value[\"rdf:Description\"].attributes)),n(e.attributes,D(r)),r=r.value[\"rdf:Description\"]),n(e.value,M(r.value)),e.description=N(e.value,t),e}(r,t):function(r){return 0===Object.keys(r.value).length&&void 0===r.attributes[\"rdf:resource\"]}(r)?function(r,t){var e=w(r.attributes);return{value:e,attributes:{},description:N(e,t)}}(r,t):function(r){return void 0!==k(r.value)}(r)?function(r,t){var e=k(r.value).value[\"rdf:li\"],n=D(r),o=[];return void 0===e?e=[]:Array.isArray(e)||(e=[e]),e.forEach((function(r){o.push(function(r){return U(r)?j(r):function(r){return\"Resource\"===r.attributes[\"rdf:parseType\"]}(r)?M(r.value):{value:r.value,attributes:D(r),description:N(r.value)}}(r))})),{value:o,attributes:n,description:N(o,t)}}(r,t):function(r,t){var e=R(r)||C(r.value);return{value:e,attributes:D(r),description:N(e,t)}}(r,t)}function U(r){return\"Resource\"===r.attributes[\"rdf:parseType\"]&&void 0!==r.value[\"rdf:value\"]||void 0!==r.value[\"rdf:Description\"]&&void 0!==r.value[\"rdf:Description\"].value[\"rdf:value\"]}function j(r,t){var e=D(r);void 0!==r.value[\"rdf:Description\"]&&(r=r.value[\"rdf:Description\"]),n(e,D(r),function(r){var t={};for(var e in r.value)\"rdf:value\"===e||x(e)||(t[A(e)]=r.value[e].value);return t}(r));var o=function(r){return R(r.value[\"rdf:value\"])||r.value[\"rdf:value\"].value}(r);return{value:o,attributes:e,description:N(o,t)}}function D(r){var t={};for(var e in r.attributes)\"rdf:parseType\"===e||\"rdf:resource\"===e||x(e)||(t[A(e)]=r.attributes[e]);return t}function k(r){return r[\"rdf:Bag\"]||r[\"rdf:Seq\"]||r[\"rdf:Alt\"]}function R(r){return r.attributes&&r.attributes[\"rdf:resource\"]}function B(r){this.name=\"MetadataMissingError\",this.message=r||\"No Exif data\",this.stack=Error().stack}B.prototype=Error();var T={MetadataMissingError:B},L=(t.default={load:W,loadView:$,errors:T},T);function W(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expanded:0};return _(r)?F(r).then((function(r){return z(r,t)})):V(r)?q(r).then((function(r){return z(r,t)})):z(r,t)}function _(r){return\"string\"==typeof r}function F(r){return\"undefined\"!=typeof window?fetch(r).then((function(r){return r.arrayBuffer()})):/^https?:\\/\\//.test(r)?function(r){return new Promise((function(t,e){(function(r){return/^https:\\/\\//.test(r)?require(\"https\").get:require(\"http\").get})(r)(r,(function(r){if(r.statusCode>=200&&r.statusCode<=299){var n=[];r.on(\"data\",(function(r){return n.push(Buffer.from(r))})),r.on(\"error\",(function(r){return e(r)})),r.on(\"end\",(function(){return t(Buffer.concat(n))}))}else e(\"Could not fetch file: \".concat(r.statusCode,\" \").concat(r.statusMessage)),r.resume()})).on(\"error\",(function(r){return e(r)}))}))}(r).then((function(r){return r})):function(r){return new Promise((function(t,e){var n=function(){try{return require(\"fs\")}catch(r){return}}();n.open(r,(function(o,u){o?e(o):n.stat(r,(function(o,i){if(o)e(o);else{var a=Buffer.alloc(i.size);n.read(u,{buffer:a},(function(o){o?e(o):n.close(u,(function(e){e&&console.warn(\"Could not close file \".concat(r,\":\"),e),t(a)}))}))}}))}))}))}(r)}function V(r){return\"undefined\"!=typeof window&&\"undefined\"!=typeof File&&r instanceof File}function q(r){return new Promise((function(t,e){var n=new FileReader;n.onload=function(r){return t(r.target.result)},n.onerror=function(){return e(n.error)},n.readAsArrayBuffer(r)}))}function z(r,t){return function(r){try{return Buffer.isBuffer(r)}catch(r){return 0}}(r)&&(r=new Uint8Array(r).buffer),$(function(r){try{return new DataView(r)}catch(t){return new u(r)}}(r),t)}function $(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expanded:0},e=0,o={},u=i(),a=(u.fileDataOffset,u.tiffHeaderOffset,u.iptcDataOffset,u.xmpChunks);if(u.iccChunks,u.mpfDataOffset,u.pngHeaderOffset,H(a)){e=1;var f=s(r,a);t.expanded?o.xmp=f:o=n({},o,f)}var c=0;if(c?(e=1,o.Thumbnail=c):delete o.Thumbnail,!e)throw new T.MetadataMissingError;return o}function H(r){return Array.isArray(r)&&r.length>0}}])}));","extractedComments":[]}